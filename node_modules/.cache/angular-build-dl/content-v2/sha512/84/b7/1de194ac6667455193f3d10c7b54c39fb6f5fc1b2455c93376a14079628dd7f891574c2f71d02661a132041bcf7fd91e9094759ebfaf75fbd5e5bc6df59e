{"version":3,"sources":["webpack:///src/app/pages/login/login.page.html","webpack:///src/app/pages/login/login-routing.module.ts","webpack:///src/app/pages/login/login.module.ts","webpack:///src/app/pages/login/login.page.scss","webpack:///src/app/pages/login/login.page.ts"],"names":["routes","path","component","LoginPageRoutingModule","imports","forChild","exports","LoginPageModule","declarations","LoginPage","authService","router","alertCtrl","loadingCtrl","storage","postData","username","password","form","required","minLength","create","message","loading","present","login","value","subscribe","token","set","dismiss","navigateByUrl","buttons","alert","selector","template"],"mappings":"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","file":"pages-login-login-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"mango\\\">\\n    <ion-title>Login</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n  <div class=\\\"center\\\">\\n    <app-logo></app-logo>\\n\\n    <h1>Sign In</h1>\\n  </div>\\n  <form [formGroup]=\\\"form\\\" (submit)=\\\"onSubmit()\\\">\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\">Username</ion-label>\\n      <ion-input type=\\\"text\\\" formControlName=\\\"username\\\" required></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\">Password</ion-label>\\n      <ion-input\\n        type=\\\"password\\\"\\n        formControlName=\\\"password\\\"\\n        required\\n      ></ion-input>\\n    </ion-item>\\n\\n    <ion-item lines=\\\"none\\\">\\n      <a routerLink=\\\"/signup\\\">Create Account</a>\\n    </ion-item>\\n\\n    <ion-button\\n      type=\\\"submit\\\"\\n      expand=\\\"block\\\"\\n      color=\\\"mango\\\"\\n      class=\\\"ion-margin-top\\\"\\n      [disabled]=\\\"form.invalid\\\"\\n    >\\n      Login\\n    </ion-button>\\n  </form>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { NgModule } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\n\nimport { IonicModule } from \"@ionic/angular\";\n\nimport { LoginPageRoutingModule } from \"./login-routing.module\";\n\nimport { LoginPage } from \"./login.page\";\nimport { ComponentsModule } from \"../../components/components.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ComponentsModule,\n    ReactiveFormsModule,\n    LoginPageRoutingModule,\n  ],\n  declarations: [LoginPage],\n})\nexport class LoginPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2xvZ2luL2xvZ2luLnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnInit } from \"@angular/core\";\nimport { FormGroup, FormControl, Validators } from \"@angular/forms\";\nimport { Router } from \"@angular/router\";\nimport { AuthService } from \"../../auth/auth.service\";\nimport {\n  AlertController,\n  ToastController,\n  LoadingController,\n} from \"@ionic/angular\";\nimport { Storage } from \"@ionic/storage\";\n\n@Component({\n  selector: \"app-login\",\n  templateUrl: \"./login.page.html\",\n  styleUrls: [\"./login.page.scss\"],\n})\nexport class LoginPage implements OnInit {\n  public postData = {\n    username: \"\",\n    password: \"\",\n  };\n\n  constructor(\n    private authService: AuthService,\n    private router: Router,\n    private alertCtrl: AlertController,\n    private loadingCtrl: LoadingController,\n    private storage: Storage\n  ) {}\n\n  ngOnInit() {}\n\n  form = new FormGroup({\n    username: new FormControl(\"\", [\n      Validators.required,\n      Validators.minLength(5),\n    ]),\n    password: new FormControl(\"\", [\n      Validators.required,\n      Validators.minLength(5),\n    ]),\n  });\n  async onSubmit() {\n    const loading = await this.loadingCtrl.create({ message: \"Logging in...\" });\n    await loading.present();\n\n    this.authService.login(this.form.value).subscribe(\n      async (token) => {\n        // localStorage.setItem(\"token\", token);\n        this.storage.set(\"token\", token);\n        loading.dismiss();\n        this.router.navigateByUrl(\"home/feed\");\n      },\n      async () => {\n        const alert = await this.alertCtrl.create({\n          message: \"Login failed\",\n          buttons: [\"OK\"],\n        });\n        await alert.present();\n        loading.dismiss();\n      }\n    );\n  }\n}\n"]}